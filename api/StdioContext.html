<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: StdioContext</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: StdioContext</h1>

    




<section>

<header>
    
        <h2>StdioContext</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="StdioContext"><span class="type-signature"></span>new StdioContext<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Creates a stdio context in which the given streams will be used as
<code>stdin</code>, <code>stdout</code>, and <code>stderr</code>.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#StdioContextOptions">StdioContextOptions</a></span>
|

<span class="param-type">Array.&lt;(!stream.Readable|!stream.Writable)></span>


            
            </td>

            

            

            <td class="description last">Streams which will be used as <code>stdin</code>,
<code>stdout</code>, and <code>stderr</code> either as an object with named
properties or an <code>Array</code> of <code>[stdin, stdout, stderr]</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line189">line 189</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#StdioContextOptions">StdioContextOptions</a></li>
        </ul>
    </dd>
    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="enter"><span class="type-signature"></span>enter<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Enters this stdio context and starts using the stdio streams it defines.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line227">line 227</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="StdioContext.html#exit">StdioContext#exit</a></li>
        </ul>
    </dd>
    

    
</dl>
















        
            

    

    <h4 class="name" id="exec"><span class="type-signature"></span>exec<span class="signature">(func, &hellip;args)</span><span class="type-signature"> &rarr; {ReturnType}</span></h4>

    



<div class="description">
    Executes a function, which may be either synchronous or asynchronous, such
that it executes in this stdio context.

This function behaves as if it called #wrap and immediately invoked
the result with the remaining arguments.

@ template ReturnType
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>func</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Function to execute.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Arguments passed to <code>func</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line336">line 336</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="StdioContext.html#wrap">#wrap</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Value returned by <code>func</code>.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">ReturnType</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="execSync"><span class="type-signature"></span>execSync<span class="signature">(func, &hellip;args)</span><span class="type-signature"> &rarr; {ReturnType}</span></h4>

    



<div class="description">
    Executes a synchronous function such that it executes in this stdio context.

This function behaves as if it called #wrap and immediately invoked
the result with the remaining arguments.


@ template ReturnType
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>func</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Function to execute.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Arguments passed to <code>func</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line362">line 362</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="StdioContext.html#wrapSync">#wrapSync</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Value returned by <code>func</code>.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">ReturnType</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="exit"><span class="type-signature"></span>exit<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Exits this stdio context, stops using the stdio streams it defines, and
restores the stdio streams present when <code>enter()</code> was called.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line287">line 287</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="StdioContext.html#enter">StdioContext#enter</a></li>
        </ul>
    </dd>
    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        If this instance was constructed with
<code>options.strict</code> and the streams do not have the values set by
<a href="StdioContext.html#enter">StdioContext#enter</a>.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    





        
            

    

    <h4 class="name" id="wrap"><span class="type-signature"></span>wrap<span class="signature">(func)</span><span class="type-signature"> &rarr; {Func}</span></h4>

    



<div class="description">
    Wraps a function, which may be either synchronous or asynchronous, such that
it executes in this stdio context.

This stdio context is entered when the returned wrapper function is called
and exited under any of the following conditions:
- When the wrapped function throws an exception.
- When the wrapped function returns, if it didn't return a
  <code>Promise</code> and the last argument was not a function.
- When a <code>Promise</code> returned by the function is resolved or
  rejected.
- When a function passed as the last argument to the function is called.

@ template Func
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>func</code></td>
            

            <td class="type">
            
                
<span class="param-type">Func</span>


            
            </td>

            

            

            <td class="description last">Function to wrap.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line397">line 397</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="StdioContext.html#wrapSync">#wrapSync</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A function which enters this stdio context, invokes
<code>func</code> with the arguments given and a wrapped callback, if
present.  Then exits this stdio context when the callback is first called,
or when the returned Promise is resolved or rejected, or immediately if the
invoked function throws an exception or doesn't have a Promise or callback.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Func</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="wrapSync"><span class="type-signature"></span>wrapSync<span class="signature">(func)</span><span class="type-signature"> &rarr; {Func}</span></h4>

    



<div class="description">
    Wraps a synchronous function such that it executes in this stdio context.

This stdio context is entered when the returned wrapper function is called
and exited when the wrapped function returns or throws an exception.

@ template Func
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>func</code></td>
            

            <td class="type">
            
                
<span class="param-type">Func</span>


            
            </td>

            

            

            <td class="description last">Function to wrap.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line465">line 465</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="StdioContext.html#wrapSync">#wrapSync</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A function which enters this stdio context, invokes
<code>func</code> with the arguments given, then exits this stdio context
upon return or exception from <code>func</code>.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Func</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="StdioContext.html">StdioContext</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Fri Feb 24 2017 22:09:10 GMT-0700 (MST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>